<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
<head th:replace="~{header :: head}"></head>

<body>
<!-- ##### Header Area Start ##### -->
<div th:replace="~{header :: header}"></div>
<!-- ##### Header Area End ##### -->

<!-- ##### Breadcrumb Area Start ##### -->
<div class="breadcrumb-area">
    <!-- Top Breadcrumb Area -->
    <div class="top-breadcrumb-area bg-img bg-overlay d-flex align-items-center justify-content-center" style="background-image: url(/img/bg-img/24.jpg);">
        <h2>SHOP DETAILS</h2>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-12">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a th:href="@{/}"><i class="fa fa-home"></i> Home</a></li>
                        <li class="breadcrumb-item"><a th:href="@{/shop}">Shop</a></li>
                        <li class="breadcrumb-item active" aria-current="page">Shop Details</li>
                    </ol>
                </nav>
            </div>
        </div>
    </div>
</div>
<!-- ##### Breadcrumb Area End ##### -->



<!-- ##### Single Product Details Area Start ##### -->
<section class="single_product_details_area mb-50">
    <div class="produts-details--content mb-50">
        <div class="container">
            <div class="row justify-content-between">

                <div class="col-12 col-md-6 col-lg-5">
                    <div class="single_product_thumb">
                        <div id="product_details_slider" class="carousel slide" data-ride="carousel">
                            <div class="carousel-inner">
                                <div class="carousel-item active">
                                    <a class="product-img" th:href="@{/img/bg-img/9.jpg}" title="Image 1">
                                        <img class="d-block w-100" th:src="@{/img/bg-img/9.jpg}" alt="1">
                                    </a>
                                </div>
                                <div class="carousel-item">
                                    <a class="product-img" th:href="@{/img/bg-img/9.jpg}" title="Image 2">
                                        <img class="d-block w-100" th:src="@{/img/bg-img/9.jpg}" alt="1">
                                    </a>
                                </div>
                                <div class="carousel-item">
                                    <a class="product-img" th:href="@{/img/bg-img/9.jpg}" title="Image 3">
                                        <img class="d-block w-100" th:src="@{/img/bg-img/9.jpg}" alt="1">
                                    </a>
                                </div>
                            </div>
                            <ol class="carousel-indicators">
                                <li class="active" data-target="#product_details_slider" data-slide-to="0" style="background-image: url(/img/bg-img/9.jpg);">
                                </li>
                                <li data-target="#product_details_slider" data-slide-to="1" style="background-image: url(/img/bg-img/9.jpg);">
                                </li>
                                <li data-target="#product_details_slider" data-slide-to="2" style="background-image: url(/img/bg-img/9.jpg);">
                                </li>
                            </ol>
                        </div>
                    </div>
                </div>

                <div class="col-12 col-md-6">
                    <div class="single_product_desc">
                        <h4 class="title" th:text="${flowerDetail.flowerDetail.name}"></h4>
                        <h4 class="price" th:text="'$' + ${flowerDetail.flowerDetail.price}">$9.99</h4>
                        <div class="short_overview">
                            <p th:text="${flowerDetail.flowerDetail.description}"></p>
                        </div>

                        <div class="cart--area d-flex flex-wrap align-items-center">
                            <!-- Add to Cart Form -->
                            <form class="cart clearfix d-flex align-items-center" th:action="@{/customer/wishlist}" th:method="post">
                                <div class="quantity">
                                    <span class="qty-minus" onclick="updateQuantity(-1)"><i class="fa fa-minus" aria-hidden="true"></i></span>
                                    <input type="number" class="qty-text" id="qty" step="1" min="1" th:attr="max=${flowerDetail.flowerDetail.qty}" name="quantity" value="1">
                                    <span class="qty-plus" onclick="updateQuantity(1)"><i class="fa fa-plus" aria-hidden="true"></i></span>

                                    <script>
                                        function updateQuantity(change) {
                                            var effect = document.getElementById('qty');
                                            var qty = parseInt(effect.value, 10); // Get the current quantity as an integer
                                            var maxQty = parseInt(effect.max, 10); // Get the maximum quantity allowed

                                            // Update the quantity based on the 'change' argument
                                            if (change === -1 && qty > 1) {
                                                effect.value = qty - 1; // Decrease the quantity
                                            } else if (change === 1 && qty < maxQty) {
                                                effect.value = qty + 1; // Increase the quantity
                                            }

                                            // Optional: Ensure the value stays within the bounds (already handled by the conditions above)
                                            effect.value = Math.max(1, Math.min(maxQty, effect.value));
                                        }
                                    </script>


                                </div>
                                <input hidden name="flowerId" th:value="${flowerDetail.flowerDetail.id}">
                                <button type="submit" name="addtocart" value="5" class="btn alazea-btn ml-15">Add to wishlist</button>
                            </form>
                            <!-- Wishlist & Compare -->
                            <div class="wishlist-compare d-flex flex-wrap align-items-center">
                                <!--                                    <a th:href="#" class="wishlist-btn ml-15"><i class="icon_heart_alt"></i></a>-->
                                <!--                                    <a th:href="#" class="compare-btn ml-15"><i class="arrow_left-right_alt"></i></a>-->
                            </div>
                        </div>

                        <div class="products--meta">
                            <p><span>Quantity:</span> <span th:text="${flowerDetail.flowerDetail.qty}"></span></p>
                            <p><span>Category:</span> <span th:text="${flowerDetail.flowerDetail.category.name}"></span></p>
                            <p><span>Flower Amount:</span> <span th:text="${flowerDetail.flowerDetail.flowerAmount}"></span></p>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- ##### Single Product Details Area End ##### -->

<!-- ##### Related Product Area Start ##### -->
<div class="related-products-area">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <!-- Section Heading -->
                <div class="section-heading text-center">
                    <h2>Related Products</h2>
                </div>
            </div>
        </div>

        <div class="row">

            <!-- Single Product Area -->
            <div class="col-12 col-sm-6 col-lg-3" th:each="flower : ${top8Flower.flowers}">
                <div class="single-product-area mb-100">
                    <!-- Product Image -->
                    <div class="product-img">
                        <a th:href="@{/customer/flower/detail(id=${flower.id})}"><img th:src="@{/img/bg-img/9.jpg}" alt=""></a>
                        <div class="product-meta d-flex">
                            <a th:href="@{/customer/flower/detail(id=${flower.id})}" class="add-to-cart-btn">View Detail</a>
                        </div>
                    </div>
                    <!-- Product Info -->
                    <div class="product-info mt-15 text-center">
                        <a th:href="@{/customer/flower/detail(id=${flower.id})}">
                            <p th:text="${flower.name}"></p>
                        </a>
                        <h6 th:text="'$' + ${flower.price}"></h6>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- ##### Related Product Area End ##### -->

<!-- ##### Footer Area Start ##### -->
<div th:replace="~{footer :: footer}"></div>
<!-- ##### Footer Area End ##### -->
</body>
</html>